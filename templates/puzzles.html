{{ define "title" }}Puzzle List{{ end }}

{{ define "content" }}
    <h1 class="title">MISSION ORIENTED INTER SPACE TRAVEL DATA ARCHIVE</h1>
    <div id="puzzles">
    {{ with $data := . }}
      {{ range $i, $puzzle := $data.Puzzles }}
        {{ with $soln := SolutionFor $data.Solutions $data.Team $puzzle }}
          <div id='puzzle{{ $i }}' class='puzzle icon{{ if not $soln.SolvedAt.IsZero }} solved{{ end }}'>
            <a href='/map/puzzles/{{ $puzzle.Slug }}' class='icon-link'>
              <div class="icon">
                P{{ $puzzle.UnlockIdx }}
              </div>
              <p class="puzzle-name">{{ $puzzle.Name }}</p>
            </a>
          </div>
        {{ end }}
      {{ end }}
    {{ end }}
    </div>
    <div id="videos">
    {{ with $data := . }}
      {{ range $i, $video := $data.Videos }}
      <div class='puzzle icon'><a href='{{ $video }}' class='icon-link'>V{{ $i }}</a></div>
      {{ end }}
    {{ end }}
    </div>
{{ end }}
